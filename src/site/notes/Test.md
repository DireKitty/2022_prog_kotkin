---
{"dg-publish":true,"permalink":"/test/","tags":["gardenEntry"]}
---

## Задание 1. Постановка задачи на разработку strapi

---

**ФИО:** 2022-ФГиИБ-ИБ-2б Коткин Артём Константинович

---

#### Требования:

- [x]  Не менее 3 сущностей;
- [x]  Сущности связаны отношениями (один ко многим, многие к одному и т.п.);
- [x]  Должны быть вложенные сущности;
- [x]  Подключены медиа;
- [x]  Требуется аутентификация;
- [x]  Есть уровни доступа и, соответственно, роли;
- [x]  Кастомная валидация (за пределами стандартных типов данных).

#### Идея

Предположим, что стоит задача разработать систему управления информацией, которая будет предназначена для обеспечения эффективного контроля за сетью баров. Эта система также должна предоставлять барменам доступ к важной информации, такой как рецептуры напитков и адреса конкретных заведений, где они работают. Учитывая перечисленные выше требования, можно выделить три основные сущности: бармены, бары и напитки.

#### Сущности

###### Бармены (Bartenders)
Описание: сущность "Бармены" представляет собой запись о сотруднике, работающем в сети баров. Здесь содержится информация о его персональных данных, рабочем месте, некоторых особенностях работы.

Набор полей:
- ФИО (Name) - строка
- Фото (Photo) - медиафайл
- Рабочий телефон (Work phone) - число

Связи:
- Фирменный напиток (Signature drink) (One-to-One с сущностью "Напитки")
- Рабочее место (Work_place) (One-to-Many с сущностью "Бар")


###### Бары (Bars)
Описание: сущность "Бары" предназначена для хранения информации о различных заведениях сети баров. Каждое заведение содержит ключевые данные о его местоположении, рабочем времени и доступных услугах, а также связаны с барменами и напитками, которые предлагаются в баре.

Набор полей:
- Название (Name) - строка
- Адрес (Address) - текст
- Время работы (Opening Hours) - строка
- Фото бара (Bar Photo) - медиафайл
	
Связи:
- Бармены (Bartenders) (One-to-Many с сущностью "Бармены")
- Напитки (Drinks) (Many-to-Many с сущностью "Напитки")


###### Напитки (Drinks)
Описание: сущность "Напитки" предназначена для хранения информации о напитках, предлагаемых в различных заведениях сети баров. Каждый напиток имеет свои уникальные характеристики, включая рецепт и информацию о связанных барах.

Набор полей:
- Название (Name) - строка
- Тип напитка (Type) - строка
- Цена (Price) - число
- Рецепт (Recipe) - строка
- Шаги (Steps) - компонент

Связи:
- Напиток принадлежит одному бару (Many-to-One с сущностью Бары)


###### Отношения между сущностями

В виде схемы  
!![Pasted image 20240910133058.png](/img/user/Pasted%20image%2020240910133058.png)
#### Источники данных
Названия для баров, имена людей, адреса взяты с сайтов:
https://thestoryshack.com/tools/bar-names-generator/
https://usaddressgenerator.com
https://randomus.ru/name?type=101&sex=0&count=10

Все изображения взяты с сайта: https://yandex.ru/images

Рецепты напитков и ингредиенты взяты с сайта: https://ru.inshaker.com



#### Порядок доступа к данным

Описание доступности данных (анонимно, при аутентификации), а также описание ролей и их порядок доступа к сущностям.

- **Super Admin**: полный доступ ко всем сущностям, редактированию и данным
- Manager: доступ к просмотру всех сущностей, права на изменения данных о барах и персонале
- Bartender: доступ к просмотру данных о напитках и барах
- Не авторизированные лица не должны иметь доступа к данным, а следовательно, описывать порядок их доступа нет необходимости


#### Особые указания, требования, комментарии
Для приведения этой работы в текущее состояние я потратил примерно 6 часов. Я не ожидал, что она так сильно растянется и не ожидал, что она будет настолько время затратной. Я вижу определенные места и недочеты, которые можно исправить и дополнить, но выполню это я уже при выполнении последующих заданий

Вся работа с Obsidian проходила без каких либо проблем. С этой программой я все же ранее работал и имел определённые представления о ее возможностях и том, как ее использовать.

Что же для меня было не очень приятным сюрпризом, так это то, что во время работы с  Strapi возникли определенные технические проблемы, с которыми я довольно долго не мог разобраться. Как оказалось, у меня была установлена неподходящая версия Node. Пока что интерфейс для меня остается не очень удобным.




- To this URL: https://<YOUR_DOMAIN>/api/<YOUR_CT>
- With the header: Authorization: bearer <YOUR_API_TOKEN>


